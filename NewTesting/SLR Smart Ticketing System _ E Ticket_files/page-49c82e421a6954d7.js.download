(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9046],{83910:function(e,t,a){Promise.resolve().then(a.bind(a,9416))},9416:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return V}});var s=a(57437),r=a(2265),l=a(16463),n=a(18087),i=a(66924),o=a(47717),d=a(80102),c=a(24292),u=a(92530),x=a(57675),v=a(20656),m=e=>{let{ticketId:t,details:a}=e,{date:l,class:i,passengerType:o}=a;(0,n.useLocale)();let d=(0,n.useTranslations)("ETicket"),c=(0,r.useMemo)(()=>{if(i)switch(i){case"2nd Class":return d("second_class");case"3rd Class":return d("third_class")}},[i]),u=(0,r.useMemo)(()=>{switch(o){case"Adult":return d("adult");case"Child":return d("child");default:return""}},[o,d]);return(0,s.jsxs)("div",{className:"border rounded-lg py-3 px-4 my-[24px] shadow text-gray-500 flex flex-col items-center",children:[(null==a?void 0:a.qrCode)&&(0,s.jsx)(v.ZP,{value:a.qrCode}),(0,s.jsx)("span",{className:"text-center mt-3",children:t}),(0,s.jsxs)("div",{className:"flex justify-around w-full mt-4 text-gray-800 font-semibold",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-blue-300 flex flex-col items-center",children:(0,s.jsx)(x.Qu,{height:22,width:22})}),(0,s.jsx)("span",{children:l})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-blue-300 flex flex-col items-center",children:(0,s.jsx)(x.vg,{height:22,width:22})}),(0,s.jsx)("span",{children:c})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-blue-300 flex flex-col items-center",children:(0,s.jsx)(x.tB,{height:22,width:22})}),(0,s.jsx)("span",{children:u})]})]}),(0,s.jsx)("p",{className:"text-red-400 text-sm font-bold mt-4 text-center",children:d("intercity_warning")})]})},h=e=>{let{from:t,to:a}=e;return(0,s.jsx)("div",{className:"border rounded-lg pt-4 px-4 shadow",children:(0,s.jsx)("div",{className:"flex items-center justify-center mb-12 mt-4 border border-2 rounded-lg",children:(0,s.jsxs)("div",{className:"relative w-full max-w-md font-semibold",children:[(0,s.jsx)("div",{className:"absolute left-0 top-1/2 pt-2",children:(0,s.jsx)("span",{className:"text-gray-700",children:t})}),(0,s.jsx)("div",{className:"absolute right-0 top-1/2 pt-2",children:(0,s.jsx)("span",{className:"text-gray-700",children:a})}),(0,s.jsxs)("div",{className:"h-2 bg-gray-300 rounded-full relative",children:[(0,s.jsx)("div",{className:"absolute left-0 w-4 h-4 bg-white border border-2 border-gray-300 bg-white-100 rounded-full top-1/2 transform -translate-y-1/2 z-10"}),(0,s.jsx)("div",{className:"absolute right-0 w-4 h-4 bg-white border border-2 border-gray-300 bg-white-100 rounded-full top-1/2 transform -translate-y-1/2 z-10"})]})]})})})},f=e=>{let{details:t}=e,a=(0,n.useTranslations)("ETicket"),{ticketType:l,tripType:i,fare:o}=t,d=(0,r.useMemo)(()=>{switch(l){case"Commuter tickets":return a("commuter_ticket");case"Outbound":return a("outbound");default:return""}},[l,a]),c=(0,r.useMemo)(()=>{switch(i){case"Outbound":return a("outbound");case"Return":return a("return");default:return""}},[i,a]);return(0,s.jsxs)("div",{className:"border rounded-lg py-3 px-4 my-[24px] shadow text-gray-500",children:[(0,s.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,s.jsxs)("span",{className:"font-semibold",children:[a("ticket_type"),":"]}),(0,s.jsx)("span",{children:d})]}),(0,s.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,s.jsxs)("span",{className:"font-semibold",children:[a("trip_type"),":"]}),(0,s.jsx)("span",{children:c})]}),(0,s.jsxs)("div",{className:"flex justify-between mb-2 text-blue-300",children:[(0,s.jsxs)("span",{className:"font-semibold",children:[a("fare"),":"]}),(0,s.jsx)("span",{children:o})]})]})},p=a(65584),g=a(86526),b=a(17746),j=a(45714),y=a(7537),N=a(80624),T=a(32483),w=a(5812),C=a(13093),k=a(37646);let S=e=>{switch(e){case"valid":return{variant:"success",icon:(0,s.jsx)(x.rE,{})};case"inUse":return{variant:"warning",icon:(0,s.jsx)(x.rE,{})};case"used":case"expired":case"invalid":case"inactive":case"refunded":return{variant:"error",icon:(0,s.jsx)(x.$O,{})};case"activatingSoon":return{variant:"disabled",icon:(0,s.jsx)(x.$O,{})};default:return{variant:"warning",icon:(0,s.jsx)(x.$O,{})}}},E=e=>{var t,a,r,l,i;let{data:o,handleRefundRequest:v,loading:E}=e,L=(0,n.useTranslations)("ETicket"),_=S(o.status),{stationList:I}=(0,b.D)(e=>e),{language:D}=(0,T.G)(e=>e),{passenger:P}=(0,w._)(e=>e),{apiKey:R}=(0,k.a)();if(E)return(0,s.jsx)(p.Z,{});let A={orderId:o.details.orderId,ticketKindEN:"Commuter Ticket",ticketKindLK:"මගී ටිකට්",ticketKindTM:"பயணிகள் டிக்கெட்",fromStation:(0,j.k5)(I,o.details.from),toStation:(0,j.k5)(I,o.details.to),travelDate:o.details.fullDate?(0,y.WU)((0,N.D)(null!==(l=o.details.fullDate)&&void 0!==l?l:""),"dd-MMM-yyyy"):"",selectedClassEN:o.details.class,selectedClassLK:(0,j.wu)(o.details.class,"LK"),selectedClassTM:(0,j.wu)(o.details.class,"TM"),tripTypeEN:o.details.tripType,tripTypeLK:(0,j.UU)(o.details.tripType,"LK"),tripTypeTM:(0,j.UU)(o.details.tripType,"TM"),ticketPrice:o.details.fare,qrCode:o.details.qrCode,issuedDate:"N/A"!=o.details.createdAt?(0,y.WU)((0,N.D)(null!==(i=o.details.createdAt)&&void 0!==i?i:""),"dd-MMM-yyyy HH:mm:ss"):"",ticketTypeEN:null===(t=o.details)||void 0===t?void 0:t.passengerType,ticketTypeLK:(null===(a=o.details)||void 0===a?void 0:a.passengerType)=="Adult"?"වැඩිහිටි":"ළමා",ticketTypeTM:(null===(r=o.details)||void 0===r?void 0:r.passengerType)=="Adult"?"வயது வந்தோர்":"குழந்தை",ticketId:o.ticketId,profileImage:"".concat(null==P?void 0:P.profile_image,"&token=").concat((0,C.p)(R))};return(0,s.jsxs)("div",{className:"min-h-[70vh]",children:[(0,s.jsx)(d.Z,{message:o.alertMessage,variant:_.variant,icon:_.icon}),P&&(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(u.PP,{})}),(0,s.jsx)(m,{ticketId:null==o?void 0:o.ticketId,details:null==o?void 0:o.details}),(0,s.jsx)(h,{from:(0,j.vP)(I,null==o?void 0:o.details.from,D),to:(0,j.vP)(I,null==o?void 0:o.details.to,D)}),(0,s.jsx)(f,{details:null==o?void 0:o.details}),!!o.isRefundable&&(0,s.jsx)(c.z,{label:L("submit_refund"),onClick:v,variant:"outlined",containerClass:"py-2 w-full mb-2",labelClass:"ml-2 text-base",startIcon:(0,s.jsx)(x.qo,{className:"hover:stroke-white"})}),(0,s.jsx)(g.Z,{tickets:[A],isEticket:!0,isSeasonTicket:!1})]})};var L=a(57560),_=a(39080),I=a(76491),D=a(46551);let P=e=>{var t,a,l;let{fromStationCode:n,toStationCode:i,loading:o}=e,[d,c]=(0,r.useState)(!1),{routePreview:u,getRoutePreview:x}=(0,_.k)(),{apiKey:v,getApiKey:m}=(0,k.a)(),{language:h}=(0,T.G)(e=>e),{stationList:f}=(0,b.D)(e=>e);(0,r.useEffect)(()=>{v||m()},[v,m]);let g=(0,r.useCallback)(async()=>{v&&n&&i&&(c(!0),await x(n,i))},[n,i,x,v]);return((0,r.useEffect)(()=>{g()},[n,i,g]),!o&&(!d||(null==u?void 0:null===(t=u.data)||void 0===t?void 0:t.length)))?(null==u?void 0:null===(a=u.data)||void 0===a?void 0:a.length)==0?(0,s.jsx)(I.P,{title:D.gD,description:D.bN}):(0,s.jsx)("div",{className:"mt-6 w-full shadow-sm border-[1px] rounded-lg px-[18px] py-5 flex flex-col min-h-[70vh]",children:null==u?void 0:null===(l=u.data)||void 0===l?void 0:l.map((e,t)=>{var a;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(L.E,{lineName:e.nextLineNameEn,noOfStations:e.stationCountTillNext,lineColorCode:e.nextLineColorCode,station:(0,j.vP)(f,e.stationShortCode,h),isLastStation:t+1==(null==u?void 0:null===(a=u.data)||void 0===a?void 0:a.length)},t)})})}):(0,s.jsx)(p.Z,{})};var R=a(66175),A=a(48933),M=a(12967),U=a(65963),O=a(46602),Z=a(41741),F=a(67106),G=e=>{var t,a;let{setIsTrainInfoCardEnabled:l,fromStationCode:i,toStationCode:o,date:d,language:c,setTripInfoData:u,loading:x}=e,v=(0,n.useTranslations)("ETicket"),m=(0,n.useTranslations)("TrainClasses"),{stationList:h}=(0,b.D)(e=>e),[f,g]=(0,r.useState)("00:00-23:59"),{isLoading:y,timetable:N,fetchTimetable:w,error:C}=(0,Z.E)(),{language:S}=(0,T.G)(e=>e),{apiKey:E,getApiKey:L}=(0,k.a)();(0,r.useEffect)(()=>{E||L()},[E,L]),(0,r.useEffect)(()=>{E&&i&&o&&d&&w({fromStationCode:i,toStationCode:o,date:null==d?void 0:d.split("T")[0],time:f,current:"1",size:"10"})},[E,w,i,o,d,f]);let _=e=>{let t=[];for(let a of e)t.push(P(a));return t},P=e=>{switch(e){case F.JG.FIRST_CLASS_NUMERIC:return m("1st_class");case F.JG.SECOND_CLASS_NUMERIC:return m("2nd_class");case F.JG.THIRD_CLASS_NUMERIC:default:return m("3rd_class")}},A=e=>"".concat(e.trainFrequency," | ").concat(v("classes")," ").concat(_(e.seatClasses));return x?(0,s.jsx)(p.Z,{}):C?(0,s.jsx)("div",{children:C}):(0,s.jsxs)("div",{className:"min-h-[70vh]",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-[4px] ",children:[(0,j.vP)(h,i,S)," - ",(0,j.vP)(h,o,S)]}),(0,s.jsx)("h4",{className:"text-base font-regular mb-[20px] text-gray-800",children:null==d?void 0:d.split("T")[0]}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)(O.Z,{label1:v("from"),label2:v("to"),onChange:e=>{g(e)},value:f})}),y?(0,s.jsx)(p.Z,{className:"my-10 min-h-52"}):0==[...(null==N?void 0:N.directList)||[],...(null==N?void 0:N.transitList)||[]].length?(0,s.jsx)(I.P,{title:D.JX,description:D.PV}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("h5",{className:"text-gray-700 font-semibold mt-[32px]",children:["Direct Trains (",null!==(t=null==N?void 0:N.directTotal)&&void 0!==t?t:0,")"]}),(0,s.jsx)("div",{className:"mt-[16px] gap-4 flex flex-col",children:null==N?void 0:N.directList.map((e,t)=>(0,s.jsx)(M.Y,{type:{value:null==e?void 0:e.trainType,label:(0,j.G)(c,e.trainType)},route:(0,j.Bv)(h,e.startStationCode,e.endStationCode,S),name:"".concat(e.trainName," #").concat(e.trainCode),description:A(e),start:e.departureTime,end:e.arrivalTime,duration:(0,R.mr)(e.travelTime),onClick:()=>{l(!0),u&&i&&o&&u((0,j.CA)(e,i,o,h,S,A(e)))}},t))}),(0,s.jsxs)("h5",{className:"text-gray-700 font-semibold mt-[32px]",children:["Transit Trains (",null!==(a=null==N?void 0:N.transitTotal)&&void 0!==a?a:0,")"]}),(0,s.jsx)("div",{className:"mt-[16px] gap-4 flex flex-col",children:null==N?void 0:N.transitList.map((e,t)=>{var a,r,n,i;return(0,s.jsx)(U.H,{description:"Change train at ".concat(e.changeStationsCode),count:null!==(a=e.trainCount)&&void 0!==a?a:0,changes:null!==(r=e.changes)&&void 0!==r?r:0,start:null!==(n=e.departureTime)&&void 0!==n?n:"N/A",end:null!==(i=e.arrivalTime)&&void 0!==i?i:"N/A",duration:(0,R.mr)(e.travelTime),onClick:()=>{l(!0),u&&u((0,j.CO)(e,h))}},t)})})]})]})},K=a(5765),q=a(60720),J=e=>{let{setIsTrainInfoCardEnabled:t,fromStationCode:a,fromStationName:l,loading:o,setTripInfoData:d}=e,c=(0,n.useTranslations)("ETicket"),u=(0,n.useTranslations)("TrainClasses"),[x,v]=(0,r.useState)("0"),[m,h]=(0,r.useState)(1),[f,g]=(0,r.useState)([]),[y,N]=(0,r.useState)(!1),{trainOfStations:w,getTrainsOfStation:C}=(0,K._)(),{apiKey:S,getApiKey:E}=(0,k.a)(),{isLoading:L,language:_,stationList:P}=(0,b.D)(),{language:A}=(0,T.G)(e=>e),U=[{key:"0",label:c("arrival")},{key:"1",label:c("departure")}];(0,r.useEffect)(()=>{S||E()},[S,E]);let O=(0,r.useCallback)(async()=>{S&&a&&(N(!0),C(a,+x,m,8))},[S&&a,x,m,C]);(0,r.useEffect)(()=>{var e;(null==w?void 0:null===(e=w.data)||void 0===e?void 0:e.data)&&(g(e=>{var t,a;return 1===m?(null===(t=w.data)||void 0===t?void 0:t.data)||[]:[...e,...(null===(a=w.data)||void 0===a?void 0:a.data)||[]]}),N(!1))},[w]),(0,r.useEffect)(()=>{O()},[S&&x,a,m,O]),(0,q.Z)(()=>{var e,t;(null==w?void 0:null===(t=w.data)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.length)===8&&(N(!0),h(e=>e+1))},y);let Z=e=>{let t=[];for(let a of e)t.push(G(a));return t},G=e=>{switch(e){case F.JG.FIRST_CLASS_NUMERIC:return u("1st_class");case F.JG.SECOND_CLASS_NUMERIC:return u("2nd_class");case F.JG.THIRD_CLASS_NUMERIC:default:return u("3rd_class")}},J=e=>"".concat(e.trainFrequency," | ").concat(c("classes")," ").concat(Z(e.seatClasses));return o?(0,s.jsx)(p.Z,{}):(0,s.jsxs)("div",{className:"min-h-[70vh]",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-[4px]",children:c("train_schedule")}),(0,s.jsx)("h4",{className:"text-base font-regular mb-[20px] text-gray-800",children:l}),(0,s.jsx)(i.Z,{tabs:U,activeTab:x,onSelect:e=>{x!==e&&(v(e),h(1),g([]))}}),!y&&(null==f?void 0:f.length)===0&&(0,s.jsx)("div",{className:"mt-[16px] gap-4 flex flex-col",children:(0,s.jsx)(I.P,{title:D.Fp,description:c("no_schedule")})}),y&&1===m||L?(0,s.jsx)(p.Z,{className:"my-10 min-h-52"}):(0,s.jsxs)("div",{className:"mt-[16px] gap-4 flex flex-col",children:[f.map((e,r)=>{var l;return(0,s.jsx)(M.Y,{type:{value:e.trainType,label:(0,j.G)(_,e.trainType)},route:(0,j.Bv)(P,e.startStationCode,e.endStationCode,A),name:"".concat(null===(l=e.trainName)||void 0===l?void 0:l.en_US," #").concat(e.trainCode),description:J(e),start:e.departureTime,end:e.arrivalTime,duration:(0,R.mr)(e.travelTime),onClick:()=>{t(!0),d&&a&&e&&d((0,j.CA)(e,a,e.endStationCode,P,A,J(e)))}},r)}),y&&(0,s.jsx)(p.Z,{className:"my-10 min-h-52"})]})]})},W=a(82101);let z=(e,t,a)=>{var s;return{date:(null==e?void 0:e.travelDate)?(0,y.WU)(null==e?void 0:e.travelDate,"dd-MMM"):"N/A",fullDate:null==e?void 0:null===(s=e.travelDate)||void 0===s?void 0:s.split("T")[0],class:null==e?void 0:e.class,passengerType:null==e?void 0:e.passengerType,from:null==e?void 0:e.fromStation,to:null==e?void 0:e.toStation,ticketType:null==e?void 0:e.ticketType,tripType:null==e?void 0:e.tripType,fare:"".concat((0,W.A)(null==e?void 0:e.totalCost,a)||"N/A"),qrCode:(null==e?void 0:e.qrCode)||"",orderId:(null==e?void 0:e.orderId)||"N/A",createdAt:(null==e?void 0:e.createdAt)||"N/A"}};var B=e=>{let{isTrainInfoCardEnabled:t,setIsTrainInfoCardEnabled:a}=e,d=(0,n.useTranslations)("ETicket");(0,n.useLocale)();let c=(0,l.useRouter)(),u=(0,l.usePathname)(),x=[{key:"eticket",label:d("e-ticket")},{key:"route",label:d("route")}],[v,m]=(0,r.useState)("eticket"),[h,f]=(0,r.useState)({}),{language:p}=(0,T.G)(e=>e),{apiKey:g}=(0,k.a)(),{isLoading:y,language:N,stationList:w}=(0,b.D)(),C=(0,l.useSearchParams)().get("ticketid"),{isLoading:S,ticket:L,getTicketDetails:_,error:I}=(0,A.Q)();(0,r.useEffect)(()=>{g&&C&&_(C)},[C,_,g]);let D=(0,j.q7)(null==L?void 0:L.status,null==L?void 0:L.createdAt,null==L?void 0:L.travelDate),M={alertMessage:((e,t)=>{switch(e){case"refunded":return d("refunded");case"expired":return d("expired");case"valid":return"".concat(d("valid")," ").concat(t);case"inUse":return d("in_use");case"used":return d("used");case"activatingSoon":return d("activating");default:return"This ticket is invalid"}})(D,(0,R._3)(null==L?void 0:L.travelDate)),status:D,ticketId:C||"N/A",details:z(L,C,p),isRefundable:("valid"===D||"activatingSoon"===D)&&(0,R.PQ)(null==L?void 0:L.travelDate)};return t?(0,s.jsx)(o.Z,{...h}):(0,s.jsxs)("div",{className:"max-w-md mx-auto bg-white py-[28px]",children:[(0,s.jsx)("div",{className:"px-[32px]",children:(0,s.jsx)(i.Z,{tabs:x,activeTab:v,onSelect:m,className:"md:ml-[1px]"})}),(0,s.jsxs)("div",{className:"px-[32px]",children:["eticket"===v&&(0,s.jsx)(E,{data:M,handleRefundRequest:()=>{let e=(null==u?void 0:u.split("/")[1])||"en";c.push("/".concat(e)),c.push("/".concat(e,"/refundrequest?ticketid=").concat(C))},loading:!L&&!I||S||y}),"route"===v&&(0,s.jsx)(P,{fromStationCode:null==L?void 0:L.fromStation,toStationCode:null==L?void 0:L.toStation,loading:!L||S||y}),"timetable"===v&&(0,s.jsx)(G,{setIsTrainInfoCardEnabled:a,fromStationCode:null==L?void 0:L.fromStation,toStationCode:null==L?void 0:L.toStation,date:null==L?void 0:L.travelDate,language:N,setTripInfoData:f,loading:!L||S||y}),"schedule"===v&&(0,s.jsx)(J,{fromStationCode:null==L?void 0:L.fromStation,fromStationName:(0,j.vP)(w,null==L?void 0:L.fromStation,p),loading:!L||S||y,setTripInfoData:f,setIsTrainInfoCardEnabled:a})]})]})},H=a(76556),Q=a(33733),V=r.memo(()=>{let e=(0,n.useTranslations)("ETicket"),{reset:t}=(0,K._)(e=>e),a=(0,l.useRouter)(),i=(0,n.useLocale)(),{passenger:o}=(0,w._)(e=>e),[d,c]=(0,r.useState)(!1),u=(0,r.useCallback)(()=>{d?c(!1):(t(),a.push("/".concat(i,"/tickethistory")))},[d,t,a,i]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("title",{children:"SLR Smart Ticketing System | E Ticket"}),o?(0,s.jsxs)("div",{className:"w-full h-full",children:[(0,s.jsx)(Q.Z,{children:(0,s.jsx)(H.Z,{headerTitle:e(d?"view_details":"e-ticket"),content:(0,s.jsx)(B,{isTrainInfoCardEnabled:d,setIsTrainInfoCardEnabled:c}),onBackArrowClick:u})}),(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)(H.Z,{headerTitle:e(d?"view_details":"e-ticket"),content:(0,s.jsx)(B,{isTrainInfoCardEnabled:d,setIsTrainInfoCardEnabled:c}),onBackArrowClick:u})})]}):(0,s.jsx)(H.Z,{headerTitle:e(d?"view_details":"e-ticket"),content:(0,s.jsx)(B,{isTrainInfoCardEnabled:d,setIsTrainInfoCardEnabled:c}),onBackArrowClick:u})]})})},80102:function(e,t,a){"use strict";var s=a(57437);a(2265),t.Z=e=>{let{message:t,variant:a,icon:r}=e;return(0,s.jsxs)("div",{className:"flex items-center px-4 py-3 rounded-lg ".concat({success:"bg-green-500",error:"bg-red-400",warning:"bg-yellow-500",disabled:"bg-gray-500",info:"bg-blue-300"}[a]),children:[r&&(0,s.jsx)("span",{className:"mr-2 text-white-100",children:r}),(0,s.jsx)("span",{className:"text-white-100",children:t})]})}},57560:function(e,t,a){"use strict";a.d(t,{E:function(){return o}});var s=a(57437),r=a(57675),l=a(39946);let n=(e,t)=>{let a=parseInt(null==e?void 0:e.replace("#",""),16),s=Math.round(2.55*t),r=(a>>16)+s,l=(a>>8&255)+s,n=(255&a)+s;return"#"+(16777216+(r<255?r:255)*65536+(l<255?l:255)*256+(n<255?n:255)).toString(16).slice(1)};var i=a(18087);let o=e=>{let{isLastStation:t,station:a,lineName:o,noOfStations:d,lineColorCode:c}=e,u=(0,i.useTranslations)("RoutePreview"),x=n(c,30);return(0,s.jsxs)("div",{className:"flex flex-row w-full",children:[(0,s.jsx)("div",{className:"flex flex-col justify-center items-center",children:t?(0,s.jsx)("div",{className:"bg-white-100 border-2 h-5 w-5 border-grey-400 rounded-full"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"bg-white-100 border-2 h-5 w-5 border-grey-400 rounded-full"}),(0,s.jsx)("div",{className:"w-[10px] flex flex-1",style:{backgroundColor:c}})]})}),(0,s.jsx)("div",{className:"flex-1 h-full ml-7 flex-col",children:t?(0,s.jsxs)("p",{className:"leading-5 text-lg text-black-700 font-semibold",children:[a," ",u("station")]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"leading-5 text-lg text-black-700 font-semibold",children:[a," ",u("station")]}),(0,s.jsxs)("div",{className:(0,l.cn)("w-fit h-[22px]  gap-1 rounded-2xl px-2 py-[2px] flex items-center justify-center mt-[48px]"),style:{backgroundColor:x},children:[(0,s.jsx)("p",{style:{color:c},children:(0,s.jsx)(r.AW,{height:12,width:12})}),(0,s.jsx)("p",{className:(0,l.cn)("text-xs font-medium pl-1"),style:{color:c},children:o})]}),(0,s.jsx)("div",{className:"flex flex-row items-center mt-2 pb-[48px]",children:(0,s.jsxs)("p",{className:"leading-5 text-sm text-black-600  pl-1",children:[d," ",u("stations")]})})]})})]})}},66924:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var s=a(57437),r=a(92530),l=a(39946),n=a(96164);let i=e=>{let{tabs:t,activeTab:a,onSelect:i,className:o}=e;return(0,s.jsx)("div",{className:(0,n.m6)("w-full flex flex-row p-1 h-11 bg-grey-100 rounded-lg gap-2 mb-[24px] overflow-x-auto ".concat(o)),children:t.map(e=>(0,s.jsx)(r.zx,{onClick:()=>!e.disabled&&i(e.key),label:e.label,disableHover:!0,variant:"secondary",labelClass:(0,l.cn)("text-base px-1 whitespace-nowrap",a===e.key?"text-base font-medium":"text-base font-normal text-black-400"),containerClass:(0,l.cn)("h-full w-full",a===e.key?"bg-white-100 shadow":"bg-transparent")},e.key))})}},46551:function(e,t,a){"use strict";a.d(t,{Fp:function(){return o},JX:function(){return n},PV:function(){return i},VD:function(){return s},bN:function(){return l},gD:function(){return r}});let s="No content to display.",r="Route Unavailable",l="No Route available at this time.",n="No trains available",i="No timetable available at this time.",o="No trains available"},60720:function(e,t,a){"use strict";var s=a(2265);t.Z=(e,t)=>{(0,s.useEffect)(()=>{let a=()=>{let{scrollTop:a,scrollHeight:s,clientHeight:r}=document.documentElement;!t&&a+r>=s-100&&e()};return window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}},[t,e])}},39080:function(e,t,a){"use strict";a.d(t,{k:function(){return c}});var s=a(39099),r=a(6072),l=a(54438);let n=async e=>await (0,l.W)({method:"post",action:r.C.getRoutes,data:e,baseURL:"OPERATIONS"}),i=async e=>(await (0,l.W)({method:"post",action:r.C.getRoutePreview,data:e,baseURL:"OPERATIONS"})).transitStations,o={isLoading:!1,data:null,sortedData:[],hasError:!1,error:null},d={isLoading:!1,data:null,hasError:!1,error:null},c=(0,s.Ue)(e=>({routes:o,routePreview:d,getRoutes:async(t,a)=>{e(e=>({routes:{...e.routes,data:null,sortedData:[],isLoading:!0,hasError:!1,error:null}}));try{let s=await n({fromStationCode:t,toStationCode:a});if(s.success){let t=s.data.sort((e,t)=>e.distance-t.distance);e(e=>({routes:{...e.routes,isLoading:!1,data:s,sortedData:t,hasError:!1,error:null}}))}else e(e=>({routes:{...e.routes,isLoading:!1,data:s,sortedData:[],hasError:!0,error:null}}))}catch(t){e(e=>({routes:{...e.routes,isLoading:!1,data:null,sortedData:[],hasError:!0,error:t}}))}},getRoutePreview:async(t,a)=>{e(e=>({routePreview:{...e.routePreview,isLoading:!0,hasError:!1,error:null}}));try{let s=await i({fromStationCode:t,toStationCode:a});s?e(e=>({routePreview:{...e.routePreview,isLoading:!1,data:s,hasError:!1,error:null}})):e(e=>({routePreview:{...e.routePreview,isLoading:!1,data:null,hasError:!0,error:"Failed to fetch route preview"}}))}catch(t){e(e=>({routePreview:{...e.routePreview,isLoading:!1,data:null,hasError:!0,error:t}}))}}}))},5765:function(e,t,a){"use strict";a.d(t,{_:function(){return c}});var s=a(39099),r=a(16955),l=a(6072),n=a(54438);let i=async e=>(0,n.W)({method:"post",action:l.C.checkOnboard,data:e}),o=async e=>(0,n.W)({method:"post",action:l.C.getSchedule,data:e,baseURL:"OPERATIONS"}),d={isLoading:!1,fromStationCode:null,toStationCode:null,departureDate:null,returnDate:null,fromDate:null,toDate:null,returnFlag:!1,classCode:"3rd Class",singleTrip:null,returnTrip:null,trainOfStations:{isLoading:!1,data:null,hasError:!1,error:null},noCommuterTickets:!1,ticketFare:[],error:null},c=(0,s.Ue)((e,t)=>({...d,checkOnboard:async()=>{try{e(()=>({isLoading:!0,error:null}));let{fromStationCode:a,toStationCode:s,returnDate:r,departureDate:l}=t(),n={fromStationCode:a,toStationCode:s,departureDate:l,...r&&{returnDate:r},language:"en_US"},{data:o}=await i(n);return e(()=>({isLoading:!1})),o}catch(t){t.response.data.error&&e(()=>({error:t.response.data.error.code})),e(()=>({isLoading:!1}))}},getPricing:async()=>{try{e(()=>({error:null}));let{fromStationCode:a,toStationCode:s}=t(),{data:l}=await (0,r.cQ)({fromStation:a,toStation:s,subProductId:"9da64161-2fe8-4a75-be6b-858cc7aa2b9f"});l.fare&&e(()=>({ticketFare:l.fare}))}catch(t){t.response.data.error&&e(()=>({noCommuterTickets:!0,error:t.response.data.error.code}))}},getTrainsOfStation:async(t,a,s,r)=>{try{e(()=>({trainOfStations:{isLoading:!0,data:null,hasError:!1,error:null}}));let l={stationCode:t,direction:a,current:s.toString(),size:r.toString()},n=await o(l);e(()=>({trainOfStations:{isLoading:!1,data:n,hasError:!n.success,error:n.success?null:n.error}}))}catch(t){e(()=>({trainOfStations:{isLoading:!1,data:null,hasError:!0,error:t}})),console.error(t)}},reset:()=>e(d)}))},82101:function(e,t,a){"use strict";a.d(t,{A:function(){return s}});let s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.00",t=arguments.length>1?arguments[1]:void 0,a=parseFloat(e);return new Intl.NumberFormat("en-US",{style:"currency",currency:"LKR",currencyDisplay:"code"}).format(a).replace("LKR",(e=>{switch(e){case"en_US":default:return"Rs.";case"si_LK":return"රු.";case"ta_LK":return"ரூ."}})(t))}}},function(e){e.O(0,[7337,2505,7987,7537,1347,4341,2066,4722,6215,2261,6526,2971,7023,1744],function(){return e(e.s=83910)}),_N_E=e.O()}]);