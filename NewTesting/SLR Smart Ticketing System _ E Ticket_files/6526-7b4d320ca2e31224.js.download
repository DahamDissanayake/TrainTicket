"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6526],{86526:function(e,t,s){s.d(t,{Z:function(){return j}});var l=s(57437),a=s(2265),i=s(18608),r=s(57675),d=s(81173),c=s.n(d),n=s(97501),o=s(434),x=s(18087),m=s(5812),f=s(66648),h=s(20656),p=s(74200),N=s(59900);let b=(0,a.forwardRef)((e,t)=>{var s,a,i,d,c,n;return e.firstName&&(e.firstName.charAt(0).toUpperCase(),e.firstName.slice(1)),e.lastName&&(e.lastName.charAt(0).toUpperCase(),e.lastName.slice(1)),(0,l.jsxs)("div",{className:"w-[555px] border-solid rounded-lg border-[1px]",ref:t,children:[(0,l.jsxs)("div",{className:"w-full flex-row flex items-center justify-between bg-blue-700 px-5",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center",children:[(0,l.jsx)(f.default,{src:"/images/logos/slr-header-mobile.svg",height:32,width:32,alt:"slr_mobile_logo",priority:!0}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-white-100 text-xs font-semibold ml-2.5",children:"Sri Lanka Railways"}),(0,l.jsx)("p",{className:"text-white-100 text-xs font-normal ml-2.5 mb-3",children:"ශ්‍රී ලංකා දුම්රිය සේවය \xa0 இலங்கை ரயில்வே"})]})]}),(0,l.jsx)("p",{className:"text-white-100 text-xs font-medium ml-2.5 mb-3",children:e.ticketId})]}),(0,l.jsxs)("div",{className:"p-5 bg-white-100",children:[(0,l.jsxs)("div",{className:"flex pb-[20px] justify-between -mt-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-blue-300 text-base font-bold",children:e.ticketKindEN}),(0,l.jsx)("p",{className:"text-sm font-normal text-gray-600",children:e.ticketKindLK}),(0,l.jsx)("p",{className:"text-sm font-normal text-gray-600",children:e.ticketKindTM})]}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsxs)("div",{className:"ml-3 mt-1",children:[(0,l.jsx)("span",{className:"font-semibold text-sm text-gray-700",children:e.name}),(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:"font-normal text-xs text-gray-600",children:"".concat(e.nic," | ").concat(e.dob)})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(f.default,{src:e.profileImage||N.h,height:e.profileImage?75:5,width:e.profileImage?75:5,alt:"avatar",className:"w-[75px] h-[75px] ml-2 border-2 border-white dark:border-gray-800 rounded-full",loader:e=>{let{src:t}=e;return t},style:{objectFit:"contain"}}),(0,l.jsx)(f.default,{src:"/images/logos/verified.png",height:1e3,width:1e3,unoptimized:!0,alt:"verified",className:"w-5 h-5 absolute bottom-0 right-0"})]})]})]}),(0,l.jsxs)("div",{className:"h-2 bg-gray-300 rounded-full relative",children:[(0,l.jsx)("div",{className:"absolute left-0 w-4 h-4 bg-white border border-2 border-gray-300 bg-white-100 rounded-full top-1/2 transform -translate-y-1/2 z-10"}),(0,l.jsx)("div",{className:"absolute right-0 w-4 h-4 bg-white border border-2 border-gray-300 bg-white-100 rounded-full top-1/2 transform -translate-y-1/2 z-10"})]}),(0,l.jsxs)("div",{className:"flex items-center mb-5",children:[(0,l.jsxs)("div",{className:" pt-[5px] flex flex-col w-[180px]",children:[(0,l.jsx)("p",{className:"text-black-700 text-sm font-medium",children:null===(s=e.fromStation)||void 0===s?void 0:s.name_en}),(0,l.jsx)("p",{className:"text-black-600 text-xs font-normal ",children:null===(a=e.fromStation)||void 0===a?void 0:a.name_sn}),(0,l.jsx)("p",{className:"text-black-600 text-xs font-normal ",children:null===(i=e.fromStation)||void 0===i?void 0:i.name_ta})]}),(0,l.jsx)("div",{className:"border-solid w-[160px] pb-2 h-[64px] rounded-lg border-[1px] flex flex-col items-center justify-center mt-3 text-center",children:(0,l.jsx)("p",{className:"text-base text-black-700 font-semibold mb-2.5",children:e.ticketPrice})}),(0,l.jsxs)("div",{className:" pt-[5px] flex flex-col w-[180px] text-right",children:[(0,l.jsx)("p",{className:"text-black-700 text-sm font-medium",children:null==e?void 0:null===(d=e.toStation)||void 0===d?void 0:d.name_en}),(0,l.jsx)("p",{className:"text-black-600 text-xs font-normal ",children:null===(c=e.toStation)||void 0===c?void 0:c.name_sn}),(0,l.jsx)("p",{className:"text-black-600 text-xs font-normal ",children:null===(n=e.toStation)||void 0===n?void 0:n.name_ta})]})]}),(0,l.jsxs)("div",{className:"flex flex-row w-full justify-between",children:[(0,l.jsxs)("div",{className:"p-4 w-[340px] h-[144px] border-solid rounded-lg border-[1px]",children:[(0,l.jsxs)("div",{className:"flex flex-row w-full justify-between pb-2",children:[(0,l.jsxs)("div",{className:"flex flex-row",children:[(0,l.jsx)("div",{className:"text-blue-300 mr-2",children:(0,l.jsx)(r.Qu,{height:24,width:24})}),(0,l.jsxs)("div",{className:"flex flex-col -mt-2",children:[(0,l.jsx)("p",{className:"text-black-700 text-xs font-medium",children:e.validFromEN}),(0,l.jsx)("p",{className:"text-black-600 text-xs font-normal ",children:e.validFromLK}),(0,l.jsx)("p",{className:"text-black-600 text-xs font-normal ",children:e.validFromTM})]})]}),(0,l.jsxs)("div",{className:"flex flex-row absolute left-52 ml-5",children:[(0,l.jsx)("div",{className:"text-blue-300 mr-2",children:(0,l.jsx)(p.H,{height:24,width:24})}),(0,l.jsxs)("div",{className:"flex flex-col -mt-2",children:[(0,l.jsx)("p",{className:"text-black-700 text-xs font-medium",children:e.validToEN}),(0,l.jsx)("p",{className:"text-black-600 text-xs font-normal ",children:e.validToLK}),(0,l.jsx)("p",{className:"text-black-600 text-xs font-normal ",children:e.validToTM})]})]})]}),(0,l.jsxs)("div",{className:"mt-4 flex flex-row w-full justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-row",children:[(0,l.jsx)("div",{className:"text-blue-300 mr-2",children:(0,l.jsx)(r.vg,{height:24,width:24})}),(0,l.jsxs)("div",{className:"flex flex-col -mt-2",children:[(0,l.jsx)("p",{className:"text-black-700 text-xs font-medium",children:e.selectedClassEN}),(0,l.jsx)("p",{className:"text-black-600 text-xs font-normal ",children:e.selectedClassLK}),(0,l.jsx)("p",{className:"text-black-600 text-xs font-normal ",children:e.selectedClassTM})]})]}),(0,l.jsxs)("div",{className:"flex flex-row absolute left-52 ml-5",children:[(0,l.jsx)("div",{className:"text-blue-300 mr-2",children:(0,l.jsx)(r.tB,{height:24,width:24})}),(0,l.jsxs)("div",{className:"flex flex-col -mt-2",children:[(0,l.jsx)("p",{className:"text-black-700 text-xs font-medium",children:e.genderEN}),(0,l.jsx)("p",{className:"text-black-600 text-xs font-normal ",children:e.genderLK}),(0,l.jsx)("p",{className:"text-black-600 text-xs font-normal ",children:e.genderTM})]})]})]})]}),(0,l.jsx)("div",{className:"w-[130px] h-[70px] mr-4",children:(0,l.jsx)(h.ZP,{value:e.qrCode,size:145})})]})]}),(0,l.jsxs)("div",{className:"h-[40px] px-5 items-center w-full bg-[#D0D5DD] flex flex-row justify-between pb-3",children:[(0,l.jsxs)("p",{className:"text-xs font-medium text-black-600",children:["Issued on ",e.issuedDate]}),(0,l.jsx)("p",{className:"text-xs font-medium text-black-600",children:e.orderId})]})]})});b.displayName="SeasonTicketInfo";var j=e=>{let{tickets:t,isEticket:s,isSeasonTicket:d,isSeasonETicketTab:f=!1}=e,h=(0,a.useRef)([]),p=(0,x.useTranslations)("ETicket"),{passenger:N}=(0,m._)(e=>e);(0,a.useEffect)(()=>{h.current=t.map((e,t)=>{var s;return null!==(s=h.current[t])&&void 0!==s?s:null})},[t]);let j=async()=>{for(let s=0;s<h.current.length;s++){var e;let l=(await c()(h.current[s],{useCORS:!0,scrollY:0})).toDataURL("image/png"),a=new n.ZP("p","mm","a4");a.addImage(l,"PNG",5,5,200,d?160:150);let i=null===(e=t[s])||void 0===e?void 0:e.ticketId;a.save(i+".pdf")}};return(0,l.jsxs)(l.Fragment,{children:[s&&(0,l.jsx)(i.z,{label:"".concat(p("download")," ").concat(p("e-ticket")," "),onClick:j,variant:"outlined",containerClass:"py-2 w-full",labelClass:"ml-2 text-base",startIcon:(0,l.jsx)(r._8,{})}),!s&&!f&&(0,l.jsx)(i.z,{label:p("download"),onClick:j,variant:"primary",containerClass:"py-3 px-8",labelClass:"ml-2 text-base",startIcon:(0,l.jsx)(r._8,{})}),d&&f&&(0,l.jsx)(i.z,{label:"".concat(p("download")," ").concat(p("e-ticket")," "),onClick:j,variant:"outlined",containerClass:"py-2 w-full",labelClass:"ml-2 text-base",startIcon:(0,l.jsx)(r._8,{})}),(0,l.jsx)("div",{children:d?(0,l.jsx)("div",{style:{position:"absolute",left:"-9999px",top:"-9999px"},children:t.map((e,t)=>(0,l.jsx)(b,{ref:e=>{h.current[t]=e},name:e.name,firstName:e.firstName,lastName:e.lastName,profileImage:e.profileImage,nic:e.nic,dob:e.dob,ticketId:e.ticketId,ticketKindEN:e.ticketKindEN,ticketKindLK:e.ticketKindLK,ticketKindTM:e.ticketKindTM,fromStation:e.fromStation,toStation:e.toStation,qrCode:e.qrCode,issuedDate:e.issuedDate,ticketPrice:e.ticketPrice,orderId:e.orderId,selectedClassEN:e.selectedClassEN,selectedClassLK:e.selectedClassLK,selectedClassTM:e.selectedClassTM,validFromEN:e.validFromEN,validFromLK:e.validFromLK,validFromTM:e.validFromTM,validToEN:e.validToEN,validToLK:e.validToLK,validToTM:e.validToTM,genderEN:e.genderEN,genderLK:e.genderLK,genderTM:e.genderTM},t))}):(0,l.jsx)("div",{style:{position:"absolute",left:"-9999px",top:"-9999px"},children:t.map((e,t)=>(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(o.F,{registeredUser:N,profileImage:e.profileImage,ref:e=>{h.current[t]=e},fromStation:e.fromStation,toStation:e.toStation,travelDate:e.travelDate,ticketPrice:e.ticketPrice,ticketId:e.ticketId,ticketTypeLK:e.ticketTypeLK,ticketTypeEN:e.ticketTypeEN,ticketTypeTM:e.ticketTypeTM,tripTypeEN:e.tripTypeEN,tripTypeLK:e.tripTypeLK,tripTypeTM:e.tripTypeTM,qrCode:e.qrCode,issuedDate:e.issuedDate,selectedClassEN:e.selectedClassEN,selectedClassLK:e.selectedClassLK,selectedClassTM:e.selectedClassTM,orderId:e.orderId,ticketKindEN:e.ticketKindEN,ticketKindLK:e.ticketKindLK,ticketKindTM:e.ticketKindTM},t)}))})})]})}}}]);